(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/map-marker.658b8302.svg"},37:function(e,t,a){e.exports=a.p+"static/media/logo.1653c647.svg"},39:function(e,t,a){e.exports=a(73)},44:function(e,t,a){},50:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(17),l=a.n(o),r=a(13),i=a(5),s=a(37),m=a.n(s),u=a(9);a(44);var d=function(){return c.a.createElement("div",{id:"page-landing"},c.a.createElement("div",{className:"content-wrapper"},c.a.createElement("img",{src:m.a,alt:"Happy"}),c.a.createElement("main",null,c.a.createElement("h1",null,"Leve felicidade para o mundo"),c.a.createElement("p",null,"Visite orfanatos e mude o dia de muitas crian\xe7as;")),c.a.createElement("div",{className:"location"},c.a.createElement("strong",null,"Lajeado"),c.a.createElement("span",null,"Rio Grande do Sul")),c.a.createElement(r.b,{to:"/app",className:"enter-app"},c.a.createElement(u.b,{size:26,color:"rgba(0,0,0, 0.6)"}))))},p=a(6),E=a(75),g=a(76),f=a(74),b=a(77),h=a(15),v=a.n(h),j=(a(50),a(7)),O=a.n(j).a.icon({iconUrl:v.a,iconSize:[58,68],iconAnchor:[29,68],popupAnchor:[0,-60]}),k=a(38),N=a.n(k).a.create({baseURL:"http://localhost:3333"});var w=function(){var e=Object(n.useState)(-29.4506549),t=Object(p.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(-52.5848386),i=Object(p.a)(l,2),s=i[0],m=i[1],d=Object(n.useState)([]),h=Object(p.a)(d,2),j=h[0],k=h[1];return Object(n.useEffect)((function(){N.get("orphanages").then((function(e){k(e.data)})).catch((function(e){console.error(e)})),navigator.geolocation.getCurrentPosition((function(e){o(e.coords.latitude),m(e.coords.longitude)}))}),[]),c.a.createElement("div",{id:"page-map"},c.a.createElement("aside",null,c.a.createElement("header",null,c.a.createElement("img",{src:v.a,alt:"Happy"}),c.a.createElement("h2",null,"Escolha um orfanato no mapa"),c.a.createElement("p",null,"Muitas crian\xe7as est\xe3o esperando a sua visita :)")),c.a.createElement("footer",null,c.a.createElement("strong",null,"Lajeado"),c.a.createElement("span",null,"Rio Grande do Sul"))),c.a.createElement(E.a,{center:[a,s],zoom:15,setView:!0,style:{width:"100%",height:"100%"}},c.a.createElement(g.a,{url:"https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=".concat("pk.eyJ1Ijoicm1hcm1pdHQiLCJhIjoiY2tnOWtvdjR2MGxsZzJ6cGNwZjBvdXdjMSJ9.EyJCfMjl126d6u-A-BQkdQ")}),j.map((function(e){return c.a.createElement(f.a,{icon:O,position:[e.latitude,e.longitude],key:e.id},c.a.createElement(b.a,{closeButton:!1,minWidth:240,maxWidth:240,className:"map-popup"},e.name,c.a.createElement(r.b,{to:"/orphanages/".concat(e.id)},c.a.createElement(u.b,{size:20,color:"#fff"}))))}))),c.a.createElement(r.b,{to:"/orphanages/create",className:"create-orphange"},c.a.createElement(u.e,{size:32,color:"#ffffff"})))};a(68),a(69);function S(){var e=Object(i.f)().goBack;return c.a.createElement("aside",{className:"app-sidebar"},c.a.createElement("img",{src:v.a,alt:"Happy"}),c.a.createElement("footer",null,c.a.createElement("button",{type:"button",onClick:e},c.a.createElement(u.a,{size:24,color:"#FFF"}))))}function y(){var e=Object(i.g)(),t=Object(n.useState)(),a=Object(p.a)(t,2),o=a[0],l=a[1],r=Object(n.useState)(0),s=Object(p.a)(r,2),m=s[0],d=s[1];return Object(n.useEffect)((function(){N.get("orphanages/".concat(e.id)).then((function(e){l(e.data)})).catch((function(e){console.error(e)}))}),[e.id]),o?c.a.createElement("div",{id:"page-orphanage"},c.a.createElement(S,null),c.a.createElement("main",null,c.a.createElement("div",{className:"orphanage-details"},c.a.createElement("img",{src:o.images[m].url,alt:o.name}),console.log(o.images),c.a.createElement("div",{className:"images"},o.images.map((function(e,t){return c.a.createElement("button",{key:e.id,className:m===t?"active":"",type:"button",onClick:function(){d(t)}},c.a.createElement("img",{src:e.url,alt:o.name}))}))),c.a.createElement("div",{className:"orphanage-details-content"},c.a.createElement("h1",null,o.name),c.a.createElement("p",null,o.about),c.a.createElement("div",{className:"map-container"},c.a.createElement(E.a,{center:[o.latitude,o.longitude],zoom:16,style:{width:"100%",height:280},dragging:!1,touchZoom:!1,zoomControl:!1,scrollWheelZoom:!1,doubleClickZoom:!1},c.a.createElement(g.a,{url:"https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=".concat("pk.eyJ1Ijoicm1hcm1pdHQiLCJhIjoiY2tnOWtvdjR2MGxsZzJ6cGNwZjBvdXdjMSJ9.EyJCfMjl126d6u-A-BQkdQ")}),c.a.createElement(f.a,{interactive:!1,icon:O,position:[o.latitude,o.longitude]})),c.a.createElement("footer",null,c.a.createElement("a",{target:"_blank",rel:"noopner noreferrer",href:"https://www.google.com/maps/dir/?api=1&destination=".concat(o.latitude,",").concat(o.longitude)},"Ver rotas no Google Maps"))),c.a.createElement("hr",null),c.a.createElement("h2",null,"Instru\xe7\xf5es para visita"),c.a.createElement("p",null,o.instructions),c.a.createElement("div",{className:"open-details"},c.a.createElement("div",{className:"hour"},c.a.createElement(u.c,{size:32,color:"#15B6D6"}),"Segunda \xe0 Sexta ",c.a.createElement("br",null),o.opening_hours),o.open_on_weekends?c.a.createElement("div",{className:"open-on-weekends"},c.a.createElement(u.d,{size:32,color:"#39CC83"}),"Atendemos ",c.a.createElement("br",null),"fim de semana"):c.a.createElement("div",{className:"dont-open-on-weekends"},c.a.createElement(u.d,{size:32,color:"#FF669D"}),"N\xe3o atendemos ",c.a.createElement("br",null),"fim de semana")))))):c.a.createElement("p",null,"Carregando...")}a(70);function C(){var e=Object(i.f)(),t=Object(n.useState)(-29.4506549),a=Object(p.a)(t,2),o=a[0],l=a[1],r=Object(n.useState)(-52.5848386),s=Object(p.a)(r,2),m=s[0],d=s[1],b=Object(n.useState)({latitude:0,longitude:0}),h=Object(p.a)(b,2),v=h[0],j=h[1],k=Object(n.useState)(""),w=Object(p.a)(k,2),y=w[0],C=w[1],x=Object(n.useState)(""),z=Object(p.a)(x,2),J=z[0],F=z[1],_=Object(n.useState)(""),M=Object(p.a)(_,2),L=M[0],A=M[1],B=Object(n.useState)(""),R=Object(p.a)(B,2),W=R[0],G=R[1],I=Object(n.useState)(!0),Q=Object(p.a)(I,2),Z=Q[0],H=Q[1],U=Object(n.useState)([]),D=Object(p.a)(U,2),V=D[0],P=D[1],X=Object(n.useState)([]),Y=Object(p.a)(X,2),q=Y[0],K=Y[1];return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){l(e.coords.latitude),d(e.coords.longitude)}))}),[]),c.a.createElement("div",{id:"page-create-orphanage"},c.a.createElement(S,null),c.a.createElement("main",null,c.a.createElement("form",{className:"create-orphanage-form",onSubmit:function(t){t.preventDefault();var a=v.latitude,n=v.longitude,c=new FormData;c.append("name",y),c.append("about",J),c.append("latitude",String(a)),c.append("longitude",String(n)),c.append("instructions",L),c.append("opening_hours",W),c.append("open_on_weekends",String(Z)),V.forEach((function(e){c.append("images",e)})),N.post("orphanages",c).then((function(t){alert("Cadastro realizado com sucesso."),e.push("/app")})).catch((function(e){alert(e)}))}},c.a.createElement("fieldset",null,c.a.createElement("legend",null,"Dados"),c.a.createElement(E.a,{center:[o,m],style:{width:"100%",height:280},zoom:15,onClick:function(e){var t=e.latlng,a=t.lat,n=t.lng;j({latitude:a,longitude:n})}},c.a.createElement(g.a,{url:"https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=".concat("pk.eyJ1Ijoicm1hcm1pdHQiLCJhIjoiY2tnOWtvdjR2MGxsZzJ6cGNwZjBvdXdjMSJ9.EyJCfMjl126d6u-A-BQkdQ")}),0!==v.latitude&&c.a.createElement(f.a,{interactive:!1,icon:O,position:[v.latitude,v.longitude]})),c.a.createElement("div",{className:"input-block"},c.a.createElement("label",{htmlFor:"name"},"Nome"),c.a.createElement("input",{id:"name",value:y,onChange:function(e){return C(e.target.value)}})),c.a.createElement("div",{className:"input-block"},c.a.createElement("label",{htmlFor:"about"},"Sobre ",c.a.createElement("span",null,"M\xe1ximo de 300 caracteres")),c.a.createElement("textarea",{id:"about",maxLength:300,value:J,onChange:function(e){return F(e.target.value)}})),c.a.createElement("div",{className:"input-block"},c.a.createElement("label",{htmlFor:"images"},"Fotos"),c.a.createElement("div",{className:"images-container"},q.map((function(e){return c.a.createElement("img",{key:e,src:e,alt:y})})),c.a.createElement("label",{htmlFor:"image[]",className:"new-image"},c.a.createElement(u.e,{size:24,color:"#15b6d6"}))),c.a.createElement("input",{type:"file",multiple:!0,onChange:function(e){if(e.target.files){var t=Array.from(e.target.files);P(t);var a=t.map((function(e){return URL.createObjectURL(e)}));K(a)}},id:"image[]"}))),c.a.createElement("fieldset",null,c.a.createElement("legend",null,"Visita\xe7\xe3o"),c.a.createElement("div",{className:"input-block"},c.a.createElement("label",{htmlFor:"instructions"},"Instru\xe7\xf5es"),c.a.createElement("textarea",{id:"instructions",value:L,onChange:function(e){return A(e.target.value)}})),c.a.createElement("div",{className:"input-block"},c.a.createElement("label",{htmlFor:"opening_hours"},"Hor\xe1rio de funcionamento"),c.a.createElement("input",{id:"opening_hours",value:W,onChange:function(e){return G(e.target.value)}})),c.a.createElement("div",{className:"input-block"},c.a.createElement("label",{htmlFor:"open_on_weekends"},"Atende fim de semana"),c.a.createElement("div",{className:"button-select"},c.a.createElement("button",{type:"button",className:Z?"active":"",onClick:function(){return H(!0)}},"Sim"),c.a.createElement("button",{type:"button",className:Z?"":"active",onClick:function(){return H(!1)}},"N\xe3o")))),c.a.createElement("button",{className:"confirm-button",type:"submit"},"Confirmar"))))}var x=function(){return c.a.createElement(r.a,null,c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/",exact:!0,component:d}),c.a.createElement(i.a,{path:"/app",component:w}),c.a.createElement(i.a,{path:"/orphanages/create",component:C}),c.a.createElement(i.a,{path:"/orphanages/:id",component:y})))};a(71),a(72);var z=function(){return c.a.createElement(x,null)};function J(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(z,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/sw.js");J(t,e)}))}}()}},[[39,1,2]]]);
//# sourceMappingURL=main.2262954f.chunk.js.map